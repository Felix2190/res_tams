<?php

	require FOLDER_MODEL_BASE . "model.base.paises.inc.php";

	class ModeloPaises extends ModeloBasePaises
	{
		#------------------------------------------------------------------------------------------------------#
		#----------------------------------------------Propiedades---------------------------------------------#
		#------------------------------------------------------------------------------------------------------#
		var $_nombreClase="ModeloBasePaises";

		var $__ss=array();

		#------------------------------------------------------------------------------------------------------#
		#--------------------------------------------Inicializacion--------------------------------------------#
		#------------------------------------------------------------------------------------------------------#

		function __construct()
		{
			parent::__construct();
		}

		function __destruct()
		{
			
		}

		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Setter------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#



		#------------------------------------------------------------------------------------------------------#
		#-----------------------------------------------Unsetter-----------------------------------------------#
		#------------------------------------------------------------------------------------------------------#



		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Getter------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#

		public function getAll ()
		{
			$query = "SELECT idPais, nombre, phone_code FROM paises ORDER BY nombre ASC";
			$result = mysqli_query($this->dbLink,$query);
			if (! $result)
				return $this->setSystemError(
						"Error en una consulta a la base de datos, intentalo de nueva cuenta mas tarde.",
						"[model.paises::LN36][" . $query . "][" . mysql_error() .
						"]");
				$retorno = array();
				while ($row = mysqli_fetch_assoc($result))
					$retorno[$row['idPais']] = $row['nombre'];
					return $retorno;
		}
		
		public function getAllCodigoTel ()
		{
			$query = "SELECT idPais, nombre, phone_code FROM paises ORDER BY nombre ASC";
			$result = mysqli_query($this->dbLink,$query);
			if (! $result)
				return $this->setSystemError(
						"Error en una consulta a la base de datos, intentalo de nueva cuenta mas tarde.",
						"[model.paises::LN36][" . $query . "][" . mysql_error() .
						"]");
				$retorno = array();
				while ($row = mysqli_fetch_assoc($result)){
					$arrR=array();
					$arrR['idPais']=$row['idPais'];
					$arrR['nombre']=$row['nombre'];
					$arrR['phone_code']=$row['phone_code'];					
					$retorno[] = $arrR;
				}					
					return $retorno;									
					//$arrRR=array();
// 					while ($row = mysqli_fetch_assoc($result))
// 					{
// 						$arrR=array();
// 						$arrR['id']=$row['CVE_LOC'];
// 						$arrR['value']=$row['NOM_LOC'];
// 						$arrR['label']=$row['NOM_LOC'];																			
// 						$arrRR[]=$arrR;
// 					}
		}

		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Querys------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#

		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Otras-------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#
		
		public function validarDatos()
		{
			return true;
		}


	}

