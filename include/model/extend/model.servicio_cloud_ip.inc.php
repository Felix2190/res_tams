<?php

	require FOLDER_MODEL_BASE . "model.base.servicio_cloud_ip.inc.php";

	class ModeloServicio_cloud_ip extends ModeloBaseServicio_cloud_ip
	{
		#------------------------------------------------------------------------------------------------------#
		#----------------------------------------------Propiedades---------------------------------------------#
		#------------------------------------------------------------------------------------------------------#
		var $_nombreClase="ModeloBaseServicio_cloud_ip";
		var $_nombreTabla="servicio_cloud_ip";
		var $__ss=array();

		#------------------------------------------------------------------------------------------------------#
		#--------------------------------------------Inicializacion--------------------------------------------#
		#------------------------------------------------------------------------------------------------------#

		function __construct()
		{
			parent::__construct();
		}

		function __destruct()
		{
			
		}

		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Setter------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#



		#------------------------------------------------------------------------------------------------------#
		#-----------------------------------------------Unsetter-----------------------------------------------#
		#------------------------------------------------------------------------------------------------------#



		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Getter------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#



		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Querys------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#

		#------------------------------------------------------------------------------------------------------#
		#------------------------------------------------Otras-------------------------------------------------#
		#------------------------------------------------------------------------------------------------------#
		
		public function getListaServiciosCloudIp()
		{
			$query = "SELECT S.idServicioCloudIp,P.nombre,S.fecha_solicitud,S.cantidad,S.renta_mensual,S.plazo FROM ".$this->_nombreTabla." AS S 
					INNER JOIN producto as P on S.codigo=P.codigo ORDER By S.fecha_solicitud ASC";
			$result = mysqli_query($this->dbLink,$query);
			if (! $result)
				return $this->setSystemError(
						"Error en una consulta a la base de datos, intentalo de nueva cuenta mas tarde.",
						"[model.".$this->_nombreTabla."::LN36][" . $query . "][" . mysql_error() .
						"]");
				$retorno = array();
				while ($row = mysqli_fetch_assoc($result))
					$retorno[$row['idServicioCloudIp']] = array('nombre'=>$row['nombre'],
							'fecha_solicitud'=>$row['fecha_solicitud'],
							'cantidad'=>$row['cantidad'],
							'renta_mensual'=>$row['renta_mensual'],
							'plazo'=>$row['plazo'],
					);
					return $retorno;
		}
		
		public function validarDatos()
		{
			return true;
		}


	}

